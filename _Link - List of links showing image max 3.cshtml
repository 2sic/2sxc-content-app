<link rel="stylesheet" href="@App.Path/dist/styles.css" data-enableoptimizations="true" />
<script type="text/javascript" src="@App.Path/dist/jquery.syncHeightResponsive.min.js" data-enableoptimizations="true"></script>
<script type="text/javascript" src="@App.Path/dist/scripts.js" data-enableoptimizations="true"></script>

@{
    var Helpers = CreateInstance("_Helpers.cshtml");
}

<div class="row co-navigation co-navigation-@(Dnn.Module.ModuleID) co-navigation-image">
    @foreach (var Content in AsDynamic(Data["Default"]))
    {
        var LinkType = Helpers.LinkType(Content);
		
		<div class="col col-xs-12 col-sm-6 col-md-4 sc-element">
			@Edit.Toolbar(Content)
			@if(LinkType != "none")
                {
					@:<a target="@(Content.Window != "auto" ? Content.Window : (LinkType == "internal" ? "_self" : "_blank"))" class="co-link-box" title="@Content.Title" href="@Content.Link">
				}
				<div class="co-img-wrapper">
					@if(!String.IsNullOrEmpty(Content.Image))
                	{
						<img src="@Content.Image?w=690&amp;h=345&amp;quality=80&amp;mode=crop&amp;scale=both" alt="@Content.Title" />
					} else {
						<div class="co-img-placeholder"></div>
					}
				</div>
				<h3>@Content.Title</h3>
				@if(!String.IsNullOrEmpty(Content.Description))
				{
					<p>@Html.Raw(HttpUtility.HtmlEncode(Content.Description).Replace("\n", "<br />"))</p>
				}
                @if(LinkType != "none")
                {
					<span class="glyphicon glyphicon-triangle-right" aria-hidden="true"></span><span class="co-link">@Content.LinkText</span>
					@:</a>
                }
            
        </div>
    }
</div>

<script>
    /* Call syncHeightResponsive here - makes sure that sync height also works after ajax reload */
    $(".co-navigation-@(Dnn.Module.ModuleID) .col").syncHeightResponsive();
</script>