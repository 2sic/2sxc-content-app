@*
	todo: review extract mail-link - why some with itemprop, others without?
*@
<link rel="stylesheet" href="@App.Path/dist/styles.css" data-enableoptimizations="true" />
<script type="text/javascript" src="@App.Path/dist/jquery.syncHeightResponsive.min.js" data-enableoptimizations="true"></script>
<script type="text/javascript" src="@App.Path/dist/scripts.js" data-enableoptimizations="true"></script>

<div class="co-person-wrapper row">
    @foreach (var Content in AsDynamic(Data["Default"]))
    {
        <div class="sc-element co-person co-person-noimage co-syncheight col-sm-6">
            @Edit.Toolbar(Content)

            <div class="co-person-text" itemscope itemtype="http://schema.org/Person">
                <strong itemprop="name">@Content.FullName</strong><br />
                @if (!String.IsNullOrEmpty(Content.Position))
                {
                    <span itemprop="jobTitle">@Content.Position</span><br />
                }
				@if (!String.IsNullOrEmpty(Content.Email))
				{
                    <div itemprop="email">
                        <span class="glyphicon glyphicon-envelope"></span> 
                        @RenderPage("_Shared - TryToEncryptMail.cshtml", new { email = Content.Email })
                    </div>
@*
					var isValid = new System.Text.RegularExpressions.Regex("^[^@]+@[^@]+\\.[^\\.]+$").IsMatch(Content.Email);
					if(isValid){
						var madr = Content.Email.Split('@');
						var madrSuf = new System.Text.RegularExpressions.Regex("\\.([^\\.]+)$").Split(madr[1]);
						<span class="glyphicon glyphicon-envelope"></span> <span data-madr1="@madr[0]" data-madr2="@madrSuf[0]" data-madr3="@madrSuf[1]"></span><br/>
					} else {
						<span class="glyphicon glyphicon-envelope"></span> <span>@Content.Email</span>
					}
*@
				}
				@if (!String.IsNullOrEmpty(Content.Mobile))
                {
					<span class="glyphicon glyphicon-phone" aria-hidden="true"></span> <a href="tel:@Content.Mobile.Replace(" ", "")" itemprop="telephone">@Content.Mobile</a><br />
                }
                @if (!String.IsNullOrEmpty(Content.Phone))
                {
                    <span class="glyphicon glyphicon-phone-alt" aria-hidden="true"></span> <a href="tel:@Content.Phone.Replace(" ", "")" itemprop="telephone">@Content.Phone</a><br />
                }
				<div itemprop="description">
					@Html.Raw((string)Content.Description)
				</div>
            </div>
        </div>
    }
</div>