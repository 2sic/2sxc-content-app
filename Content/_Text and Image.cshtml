@inherits Custom.Hybrid.Razor12
@{
  /* This Template is used in ca. 5 Views which show title, text and image */

  // Determine which part comes first
  var imgFirst = Settings.ImageFirst;
  var txtFirst = !imgFirst;
  
  // Determine the widths of each part, based on 12 Bootstrap Cols
  const int bootstrapCols = 12;
  var colsImg = imgFirst ? Settings.ColsElement1 : bootstrapCols - Settings.ColsElement1;
  var colsText = bootstrapCols - colsImg;

  // Find out how large the image should be based on View or App Settings
  var imgWidth = (int)Settings.ImageWidth;
}
<div class="co-container-outer mb-4 mb-md-5">
  <div class="co-container-inner" @Edit.TagToolbar(Content)>
    <div class="row">
      <div class='col-md-@colsText order-@(txtFirst ? "first" : "last")'>
        @* call sub-template to show the title with the correct H1-H6 tag *@
        @Html.Partial("../shared/_Header tag.cshtml")

        @* If the image doesn't have it's own column, its between title/text *@
        @if(colsImg == 0) {
          @Html.Partial("_Shared Image.cshtml", new { img = Content, width = imgWidth })
        }

        @Html.Raw(Content.Text)
      </div>
      @if(colsImg != 0) {
        <div class='col-md-@colsImg order-@(imgFirst ? "first" : "last")'>
          @* call sub-template to show the image with all possible options *@
          @Html.Partial("_Shared Image.cshtml", new { img = Content, width = imgWidth })
        </div>
      }
    </div>
  </div>
</div>

@Html.Partial("../shared/_Assets.cshtml", new { parts = "fancybox,styles,scripts"})