@inherits Custom.Hybrid.Razor14
@{
  // show warning for admin if koi.json is missing
  if (Kit.Css.IsUnknown && CmsContext.User.IsSiteAdmin) {
    <div class='dnnFormMessage dnnFormWarning'>
      @Html.Raw(Connect.Koi.Messages.CssInformationMissing) <br>
      @Html.Raw(Connect.Koi.Messages.OnlyAdminsSeeThis)
    </div>
  }

  // Include bootstrap 5 if the framework isn't known - then this file is still called, and we add Bootstrap to the page 
  // Note that the link and script tags are in the System Settings to make it easier to update a live installation
  if (Kit.Css.IsUnknown) {
    Kit.Page.Activate("Bootstrap5");
  }

  // This sub template just places all the very-often used
  // style and link tags into the code.
  // We put this in a sub-template because we use it so often, and want to make sure
  // nobody accidentally uses the wrong url or forgets Kit.Page.AssetAttributes()
  string partList = DynamicModel.parts != null ? DynamicModel.parts : "";
  var parts = partList.Split(',').Select(s => ((string)s).ToLower().Trim()).ToArray();
  var scripts = parts.Contains("scripts");
  var icons = parts.Contains("icons");

}

@* Include styles *@
<link rel="stylesheet" href="@App.Path/bs5/dist/styles.min.css" @Kit.Page.AssetAttributes() />

@* Include icon font - the exact HTML for this is in the SystemSettings *@
@if (icons) { Kit.Page.Activate("FontAwesome5"); }


@* Include javascript *@
@if (scripts) { <script type="text/javascript" src="@App.Path/bs5/dist/scripts.min.js" @Kit.Page.AssetAttributes(position: "bottom") ></script> }